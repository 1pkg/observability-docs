{/* Comes from sandbox.elastic.dev/test-books/apm/guide/transclusion/tab-widgets/install-agents/go.mdx */}

**Install the agent**

Install the ((apm-agent)) packages for Go.

```go
go get go.elastic.co/apm
```

**Configure the agent**

Agents are libraries that run inside of your application process.
APM services are created programmatically based on the executable file name, or the `ELASTIC_APM_SERVICE_NAME` environment variable.

```go
# Initialize using environment variables:

export ELASTIC_APM_SERVICE_NAME=<your-service-name> [^1]
export ELASTIC_APM_API_KEY=<your-api-key> [^2]
export ELASTIC_APM_SERVER_URL=<your-server-url> [^3]
export ELASTIC_APM_ENVIRONMENT=<your-environment> [^4]
```
[^1]: The service name is the primary filter in the Applications UI and is used to group errors and trace data together. Allowed characters are a-z, A-Z, 0-9, -, _, and space. If not specified, the executable name will be used.
[^2]: Used to ensure that only your agents can send data to your project.
[^3]: Set the custom APM Server URL (default: http://localhost:8200). The URL must be fully qualified, including protocol (http or https) and port.
[^4]: The name of the environment this service is deployed in, for example, "production" or "staging". Environments allow you to easily filter data on a global level in the Applications UI. It's important to be consistent when naming environments across agents.

**Instrument your application**

Instrument your Go application by using one of the provided instrumentation modules or by using the tracer API directly.

```go
import (
	"net/http"

	"go.elastic.co/apm/module/apmhttp"
)

func main() {
	mux := http.NewServeMux()
	...
	http.ListenAndServe(":8080", apmhttp.Wrap(mux))
}
```
