

<div id="configure-head-based-sampling"></div>

There are three ways to adjust the head-based sampling rate of your APM agents:

### Dynamic configuration

The transaction sample rate can be changed dynamically (no redeployment necessary) on a per-service and per-environment
basis with [((apm-agent)) Configuration](((kibana-ref))/agent-configuration.html) in ((kib)).

### ((kib)) API configuration

((apm-agent)) configuration exposes an API that can be used to programmatically change
your agents' sampling rate.
An example is provided in the [Agent configuration API reference](((kibana-ref))/agent-config-api.html).

### ((apm-agent)) configuration

Each agent provides a configuration value used to set the transaction sample rate.
See the relevant agent's documentation for more details:

* Go: [`ELASTIC_APM_TRANSACTION_SAMPLE_RATE`](https://www.elastic.co/guide/en/apm/agent/go/${variables['apm-go-branch']}/configuration.html#config-transaction-sample-rate)
* Java: [`transaction_sample_rate`](https://www.elastic.co/guide/en/apm/agent/java/${variables['apm-java-branch']}/config-core.html#config-transaction-sample-rate)
* .NET: [`TransactionSampleRate`](https://www.elastic.co/guide/en/apm/agent/dotnet/${variables['apm-dotnet-branch']}/config-core.html#config-transaction-sample-rate)
* Node.js: [`transactionSampleRate`](https://www.elastic.co/guide/en/apm/agent/nodejs/${variables['apm-node-branch']}/configuration.html#transaction-sample-rate)
* PHP: [`transaction_sample_rate`](https://www.elastic.co/guide/en/apm/agent/php/${variables['apm-php-branch']}/configuration-reference.html#config-transaction-sample-rate)
* Python: [`transaction_sample_rate`](https://www.elastic.co/guide/en/apm/agent/python/${variables['apm-py-branch']}/configuration.html#config-transaction-sample-rate)
* Ruby: [`transaction_sample_rate`](https://www.elastic.co/guide/en/apm/agent/ruby/${variables['apm-ruby-branch']}/configuration.html#config-transaction-sample-rate)

