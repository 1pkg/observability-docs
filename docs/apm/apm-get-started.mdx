---
id: serverlessObservabilityApmGetStarted
slug: /serverless/observability/apm-get-started
title: Get started with traces and APM
description: Learn how to collect Application Performance Monitoring (APM) data and visualize it in real-time. 
tags: [ 'serverless', 'observability', 'how-to' ]
---

import Snippet from '../partials/early-draft-notice.mdx'

<Snippet />

This guide describes how to:

* Collect Application Performance Monitoring (APM) data
* Send APM data to Elastic
* Explore and visualize the data in real-time

For feedback and questions, please contact us in the [discuss forum](https://discuss.elastic.co/).

<div id="traces-prereqs"></div>

## Prerequisites

To follow the steps in this guide, you need an ((stack)) deployment that includes:

* Fleet for storing and searching data
* Kibana for visualizing and managing data
* Kibana user with `All` privileges on Fleet and Integrations. Since many
    Integrations assets are shared across spaces, users need the Kibana privileges
    in all spaces.

* Integrations Server (included by default in every Elasticsearch Service deployment)

To get started quickly, spin up a deployment of our hosted Elasticsearch Service. The Elasticsearch Service is
available on AWS, GCP, and Azure. [Try it out for free](https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&elektra=docs).

<div id="add-apm-integration"></div>

## Step 1: Configure the APM integration

Elastic Cloud runs a hosted version of Integrations Server that includes the APM integration.



1. In Kibana, navigate to **Fleet** > **Agent policies** and select the **Elastic Cloud agent policy**.
    This is the default agent policy for Elastic Agents hosted on Elastic Cloud.

    <div style={{ backgroundColor: "#F1F4FA", width: "100%", height: "250px", textAlign: "center", paddingTop: "110px", marginBottom: "20px" }}><DocIcon type="image" title="missing image"/> missing image</div>
    {/* ![Elastic Cloud agent policy](images/cloud-agent-policy.png) */}

1. Next to **Elastic APM** in the **Actions** column,
    select **Edit integration** to configure the APM integration.

    <div style={{ backgroundColor: "#F1F4FA", width: "100%", height: "250px", textAlign: "center", paddingTop: "110px", marginBottom: "20px" }}><DocIcon type="image" title="missing image"/> missing image</div>
    {/* ![Edit the APM integration](images/cloud-edit-apm.png) */}

1. Make a note of the predefined URL that the APM Server is listening on--you'll
    need this in the next step.

1. If you made any changes to your configuration, click **save and continue**.

<div id="add-apm-integration-agents"></div>

## Step 2: Install APM agents

APM agents are written in the same language as your service.
To monitor a new service, you must install the agent and configure it with a service name,
APM Server host, and Secret token.

* **Service name**: The APM integration maps an instrumented service's name–defined in each APM agent's configuration–
    to the index that its data is stored in Fleet.
    Service names are case-insensitive and must be unique.
    For example, you cannot have a service named `Foo` and another named `foo`.
    Special characters will be removed from service names and replaced with underscores (`_`).

* **APM Server URL**: The host and port that APM Server listens for events on.
    This should match the host and port defined when setting up the APM integration.

* **Secret token**: Authentication method for APM agent and APM Server communication.
    This should match the secret token defined when setting up the APM integration.

<DocCallOut title="Tip">
You can edit your APM integration settings if you need to change the APM Server URL
or secret token to match your APM agents.
</DocCallOut>

{/* this if directive includes the same file, but changes the file path based on where this guide is built */}


import Go from '../transclusion/install-agents/go.mdx'
import Ios from '../transclusion/install-agents/ios.mdx'
import Java from '../transclusion/install-agents/java.mdx'
import Net from '../transclusion/install-agents/net.mdx'
import Node from '../transclusion/install-agents/node.mdx'
import Php from '../transclusion/install-agents/php.mdx'
import Python from '../transclusion/install-agents/python.mdx'
import Ruby from '../transclusion/install-agents/ruby.mdx'
import Rum from '../transclusion/install-agents/rum.mdx'
import OpenTelemetry from '../transclusion/open-telemetry/otel-get-started.mdx'

<DocTabs hasBorder>
	<DocTab name="Go">
		<Go />  
	</DocTab>
	<DocTab name="iOS">
		<Ios />  
	</DocTab>
	<DocTab name="Java">
		<Java />  
	</DocTab>
	<DocTab name=".NET">
		<Net />  
	</DocTab>
	<DocTab name="Node.js">
		<Node />  
	</DocTab>
	<DocTab name="PHP">
		<Php />  
	</DocTab>
	<DocTab name="Python">
		<Python />  
	</DocTab>
	<DocTab name="Ruby">
		<Ruby />  
	</DocTab>
	<DocTab name="RUM">
		<Rum />  
	</DocTab>
	<DocTab name="OpenTelemetry">
		<OpenTelemetry />  
	</DocTab>
</DocTabs>

<div id="view-apm-integration-data"></div>

## Step 3: View your data

Back in Kibana, under APM agent, select APM.
You should see application performance monitoring data flowing into Elastic!

<DocCallOut title="Note">
The built-in `apm_user` role is not compatible with the APM integration
as it only provides read access to `apm-*` indices.
For a list of indices users need access to, refer to
<DocBadge><DocIcon size="s" type="unlink" title="missing link"/> missing link</DocBadge> {/* [APM data streams](((apm-guide-ref))/apm-data-streams.html) */}
</DocCallOut>

<div style={{ backgroundColor: "#F1F4FA", width: "100%", height: "250px", textAlign: "center", paddingTop: "110px", marginBottom: "20px" }}><DocIcon type="image" title="missing image"/> missing image</div>
{/* ![](images/kibana-apm-sample-data.png) */}

Not seeing any data? Review our list of <DocBadge><DocIcon size="s" type="unlink" title="missing link"/> missing link</DocBadge> {/* [common problems](((apm-guide-ref))/common-problems.html) */} for helpful tips.

## What's next?

* Now that data is streaming into Elastic, take your investigation to a
    deeper level! Use [Elastic APM agent](https://www.elastic.co/observability)
    to unify your logs, metrics, uptime, and application performance data.

* Want to protect your endpoints from security threats? Try
    [Elastic Security](https://www.elastic.co/security). Adding endpoint protection is
    just another integration that you add to the agent policy!

* Are your eyes bleary from staring at a wall of screens?
    <DocBadge><DocIcon size="s" type="unlink" title="missing link"/> missing link</DocBadge> {/* [Create alerts](((observability-guide))/create-alerts.html) */} and find out about
    problems while sipping your favorite beverage poolside.

* Want Elastic to do the heavy lifting? Use Machine Learning to
<DocBadge><DocIcon size="s" type="unlink" title="missing link"/> missing link</DocBadge> {/* [detect anomalies](((observability-guide))/inspect-log-anomalies.html) */}.

* Got everything working like you want it? Roll out your agent policies to
    other hosts by deploying Elastic Agents across your infrastructure!



