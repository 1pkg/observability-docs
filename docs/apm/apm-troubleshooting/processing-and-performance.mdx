

<div id="processing-and-performance"></div>

APM Server performance depends on a number of factors: memory and CPU available,
network latency, transaction sizes, workload patterns,
agent and server settings, versions, and protocol.

Let's look at a simple example that makes the following assumptions:

* The load is generated in the same region as where APM Server and ((es)) are deployed.
* We're using the default settings in cloud.
* A small number of agents are reporting.

This leaves us with relevant variables like payload and instance sizes.
See the table below for approximations.
As a reminder, events are
<DocLink id="serverlessObservabilityApmSpansTransactionsErrorsMetricsMetadata">transactions</DocLink> and
<DocLink id="serverlessObservabilityApmSpansTransactionsErrorsMetricsMetadata">spans</DocLink>.

<DocTable columns={[
  {
    "title": "Transaction/Instance",
    "width": "25%"
  },
  {
    "title": "512 MB Instance",
    "width": "25%"
  },
  {
    "title": "2 GB Instance",
    "width": "25%"
  },
  {
    "title": "8 GB Instance",
    "width": "25%"
  }
]}>
  <DocRow>
    <DocCell>
      Small transactions
      
      _5 spans with 5 stack frames each_
    </DocCell>
    <DocCell>600 events/second</DocCell>
    <DocCell>1200 events/second</DocCell>
    <DocCell>
      4800 events/second
      
    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>
      Medium transactions
      
      _15 spans with 15 stack frames each_
    </DocCell>
    <DocCell>300 events/second</DocCell>
    <DocCell>600 events/second</DocCell>
    <DocCell>
      2400 events/second
      
    </DocCell>
  </DocRow>
  <DocRow>
    <DocCell>
      Large transactions
      
      _30 spans with 30 stack frames each_
    </DocCell>
    <DocCell>150 events/second</DocCell>
    <DocCell>300 events/second</DocCell>
    <DocCell>
      1400 events/second
      
    </DocCell>
  </DocRow>
</DocTable>

In other words, a 512 MB instance can process \~3 MB per second,
while an 8 GB instance can process ~20 MB per second.

APM Server is CPU bound, so it scales better from 2 GB to 8 GB than it does from 512 MB to 2 GB.
This is because larger instance types in ((ecloud)) come with much more computing power.

Don't forget that the APM Server is stateless.
Several instances running do not need to know about each other.
This means that with a properly sized ((es)) instance, APM Server scales out linearly.

<DocCallOut title="Note">
RUM deserves special consideration. The RUM agent runs in browsers, and there can be many thousands reporting to an APM Server with very variable network latency.
</DocCallOut>
