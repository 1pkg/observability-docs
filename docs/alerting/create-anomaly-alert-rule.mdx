---
id: serverlessObservabilityCreateAnomalyAlertRule
slug: /serverless/observability/create-anomaly-alert-rule
title: Create anomaly alert rule
description: Get alerts when either the latency, throughput, or failed transaction rate of a service is abnormal.
tags: [ 'serverless', 'observability', 'how-to', 'alerting' ]
status: in testing
---

import Actions from '../transclusion/alerting/actions.mdx'

import Feedback from '../partials/feedback/widget.mdx'

import Testing from '../partials/in-testing-notice.mdx'

<Testing />

You can create an anomaly rule to alert you when either the latency, throughput, or failed transaction rate of a service is abnormal. Anomaly rules can be set at different levels: environment, service, and/or transaction type. Add actions to raise alerts via services or third-party integrations e.g. email, Slack, Jira.

![Create rule for APM anomaly alert](../images/alerts-create-apm-anomaly.png)

To create your anomaly rule:

1. Select **Manage Rules** from the **Alerts** page, and select **Create rule**.
1. Enter a **Name** for your rule, and any optional **Tags** for more granular reporting (leave blank if unsure).
1. Select the **Anomaly** rule type from the APM use case.
1. Select the appropriate **Service**, **Type**, and **Environment** (or leave **ALL** to include all options).
1. Select the desired severity (critical, major, minor, warning) from **Has anomaly with severity**.
1. Define the interval to check the rule e.g. check every 1 minute.
1. (Optional) Set up **Actions**.
1. **Save** your rule.

<DocCallOut title="Tip">
You can also create an anomaly rule directly from any page within **Applications**. Click the **Alerts and rules** button, and select **Create anomaly rule**. When you create a rule this way, the **Name** and **Tags** fields will be pre-populated but you can still change these.
</DocCallOut>

{/* Placeholder link for connectors for now  */}

<div id="action-types-slo"></div>

<Actions />

<div id="create-anomaly-alert-example"></div>
## Example

Latency anomaly rules trigger when the latency of a service is abnormal. Because some parts of an application are more important than others, and have a different tolerance for latency, we’ll target a specific transaction within a service.

Before continuing, identify the service name, transaction type, and environment that you’d like to create a latency anomaly rule for. This guide will create an alert for all services based on the following criteria:

* Service: `{your_service.name}`
* Transaction: `{your_transaction.name}`
* Environment: `{your_service.environment}`
* Severity level: critical
* Check every five minutes
* Send an alert to a Slack channel when the rule status changes

From any page in **Applications**, select **Alerts and rules** -> **Create anomaly rule**. Change the name of the rule (if you wish), but do not edit the tags.

Based on the criteria above, define the following rule details:

* **Service** - `{your_service.name}`
* **Type** - `{your_transaction.name}`
* **Environment** - `{your_service.environment}`
* **Has anomaly with severity** - `critical`
* **Check every** - `5 minutes`

Next, add a connector type. Multiple connectors can be selected, but in this example we’re interested in Slack. Select **Slack** -> **Create a connector**. Enter a name for the connector, and paste your Slack webhook URL. See Slack’s webhook documentation if you need to create one.

A default message is provided as a starting point for your alert. You can use the Mustache template syntax (i.e. `{{variable}}`) to pass additional alert values at the time a condition is detected to an action. A list of available variables can be accessed by selecting the **add variable** button.

Click **Save**. Your rule has been created and is now active!

<Feedback slug="/serverless/observability/create-anomaly-alert-rule" filepath="docs/alerting/create-anomaly-alert-rule.mdx" />
